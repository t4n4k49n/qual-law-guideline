# RUN

run_id: 20260204_000000000_setup
branch: chore/setup
started_at: 2026-01-26 (JST)

---
## SCOPE（最重要）
このRUN.mdは2パート構成。
- `## EXEC SPEC (Codex)`：Codexが実行する唯一の仕様（**Codexはこのセクションのみを実行対象とする**）
- `## HUMAN`：人間向けの補助情報（実行仕様ではない）

---

## HUMAN: 最初に人がやること（最小限）
- GitHubで新規リポジトリを作成（private推奨）
- VS Codeで`%USERPROFILE%\Documents\GitHub`を開く
- ローカルへclone（Codexに"https://github.com/T4N4K4-KUN/hogehogeをCloneして"と指示）
- `runs/20260204_000000000_setup/` を作成し、このファイルを `runs/20260204_000000000_setup/RUN.md` として保存（UTF-8 BOMなし / LF）
- 下の「Codexへの開始指示（コピペ用）」をCodexに貼って開始

## HUMAN: Codexへの開始指示（コピペ用）
- まず `runs/20260204_000000000_setup/RUN.md` を読んで開始して。
- 実行仕様はこのファイル内の **「EXEC SPEC (Codex)」セクションのみ**。それ以外のセクションは実行仕様ではない。
- 開始状態の前提：`runs/20260204_000000000_setup/` と、この `runs/20260204_000000000_setup/RUN.md` は **既に存在**している。ここから先はその前提で進めて。
- ブランチ `chore/setup` を作成してから作業して（main直編集禁止）。
- 文字コードは UTF-8（BOMなし）、改行はLFを守ること。
- 末尾の「APPENDIX: FILE TEMPLATES」に雛形があるので、雛形を **一字一句そのまま（内容改変なし）** で指定パスへ新規作成して。BEGIN/END行はファイルに入れない（ブロック内部のみ）。
- 5ファイルを揃えたら、README/TODOの「要ユーザー入力」箇所はユーザーへ依頼文を入れるまで（勝手に内容は埋めない）。
- `out/20260204_000000000_setup/` を作成して、`git add -A` → commit → push まで行って。

---

## EXEC SPEC (Codex)
以下のみが実行仕様。

### 開始状態（このRUNの前提）
- このファイルは **既に** `runs/20260204_000000000_setup/RUN.md` として存在する
- `runs/20260204_000000000_setup/` は **既に** 存在する
- したがって、このRUNにおける作業開始地点は「上記が揃っている状態」からである

### 目的（1文）
- 新規リポジトリの最小ドキュメント運用（5ファイル雛形 + runs/out骨組み）を作り、初期コミットまで完了する。


### Done Definition（完了条件）
- [ ] ブランチ `chore/setup` が作成されている（main直編集しない）
- [ ] ルート直下に以下のファイルが存在する（雛形どおり）
  - [ ] `AGENTS.md`
  - [ ] `README.md`（雛形＋要ユーザー入力の依頼文が含まれている）
  - [ ] `TODO.md`（雛形＋要ユーザー入力の依頼文が含まれている）
  - [ ] `KNOWLEDGE.md`
- [ ] `runs/_TEMPLATE/RUN.md` が存在する（雛形どおり）
- [ ] `runs/20260204_000000000_setup/RUN.md`（このファイル）が存在する
- [ ] `out/20260204_000000000_setup/` が存在する
- [ ] 初期コミットが作成され、GitHubへ push 済み

### 重要：文字化け回避（UTF-8遵守）
- このrepoのテキストファイル（.md / .py / .json など）は UTF-8（BOMなし）で保存する
- 改行は原則LF
- 生成物（out配下のログ/JSON）も原則UTF-8で出力する

### 手順（Codexが実施）
1) ブランチ作成：`chore/setup`
2) ディレクトリ作成：
   - `runs/_TEMPLATE/`
   - `out/`
   - `out/20260204_000000000_setup/`
3) 雛形（APPENDIX）からファイルを作成：
   - `AGENTS.md`
   - `README.md`（雛形のみ）
   - `TODO.md`（雛形のみ）
   - `KNOWLEDGE.md`
   - `runs/_TEMPLATE/RUN.md`
4) README/TODOの「要ユーザー入力」箇所について、ユーザーへ依頼文を入れる（内容は勝手に埋めない）
5) 初期コミット → push

### 実行コマンド（例）
- `git checkout -b chore/setup`
- `git status -sb`
- `git add -A`
- `git commit -m "chore: initial minimal docs + runs/out skeleton"`
- `git push -u origin chore/setup`

### 結果
- 何ができた：
- 何ができなかった：
- 補足：

---

# APPENDIX: FILE TEMPLATES
以下の雛形はそのままファイル化すること（内容改変なし）。

========================
BEGIN AGENTS.md
========================
# AGENTS.md

このリポジトリは最小ドキュメントで運用する。
迷ったら README.md / TODO.md / KNOWLEDGE.md と Git履歴を最優先する。

## 作業開始時に読む順（必須）
1) README.md
2) TODO.md（上から順に）

## 重要：文字化け回避（必須）
- このrepoのテキストファイル（.md / .py / .json など）は UTF-8（BOMなし）で保存すること
- 改行は原則LF
- 生成物（out配下のログ/JSON）も原則UTF-8で出力すること

## 運用ルール（必須）
- 1タスク = 1run（1runは小さく完結）
- コード修正を伴うタスクは必ずブランチ（main直編集禁止）
- 初期RUNの run_id は固定：`YYYYMMDD_000000000_setup`
- 開発RUNの run_id は `yyyymmdd-hhmmssSSS_<branch>`（ブランチ名に `/` が入る場合は `-` に置換）
- `runs/<run_id>/` と `out/<run_id>/` は同名で作る（同期できるように）
- 出力・ジャーナル類は上書き禁止：必ずタイムスタンプを付けて増やす
- `out/` はローカル生成物（gitignore想定）。共有したい抜粋ログ/成果は `runs/<run_id>/` にコピーする
- 解決に手間がかかった・繰り返す知見は KNOWLEDGE.md に昇格（RUN → KNOWLEDGE）
- 破壊的操作・秘密情報（.env / credential / rm / 大量削除 等）は都度確認してから
- 余分なrunは削除せず、必要なら `runs/ARCHIVE_<run_id>/` に移動して保管（任意だが推奨）

## README/TODOの埋め方（重要）
- README.md と TODO.md はプロジェクト内容に依存するため、最初は雛形のみを作る。
- 5ファイル作成後、ユーザーに以下のいずれかを依頼し、情報が揃ってから追記する（勝手に埋めない）：
  - プロジェクト内容が分かる資料のアップロード（要件/メモ/仕様/リンク等）
  - または、目的・入力・出力・制約・対象ユーザー・優先度の要点共有
========================
END AGENTS.md
========================

========================
BEGIN README.md
========================
# <Project Title>

## 概要（1〜3行）
- （要ユーザー入力）

## ゴール
- （要ユーザー入力）

## 非目標
- （要ユーザー入力）

## 方針（固定）
- 1タスク=1run（runs/<run_id>/RUN.md）
- runs と out は同名運用
- 生成物は上書き禁止（タイムスタンプ付与）
- 知見は KNOWLEDGE.md に昇格

## 文字化け回避（UTF-8遵守）
- テキストは UTF-8（BOMなし）、改行はLF

## 次にやること
- TODO.md を参照

---

## README/TODO を埋めるためにユーザーへ依頼する情報（必須）
このREADME/TODOはプロジェクト内容に依存する。次のいずれかをユーザーに依頼して、情報が揃ってから追記すること。

- 資料アップロード：要件メモ、仕様、既存コード、対象データ例、期待する出力例 など
または
- 要点共有（文章でOK）：
  1) 目的（何を達成したいか）
  2) 入力（対象データ/形式/想定サイズ）
  3) 出力（成果物の形式/粒度）
  4) 制約（環境、ライブラリ縛り、性能目標、禁止事項）
  5) 優先順位（まず何を動かしたいか）
========================
END README.md
========================

========================
BEGIN TODO.md
========================
# TODO

Current Branch: main

## Now（雛形）
- [ ] run: <new_run_id>_<task>
  - （要ユーザー入力：最初に実装したい最小機能）
- [ ] run: <new_run_id>_<task>
  - （要ユーザー入力）

## Next（雛形）
- （要ユーザー入力）

## Notes（固定）
- TODO.md は上書き更新する。履歴は Git のコミットで追える（重要な更新はコミットに含める）。
- 1タスク=1run（runs/<run_id>/RUN.md）
- runs と out は同名運用
- 生成物は上書き禁止（タイムスタンプ付与）
- 詰まりが再発する知見は KNOWLEDGE.md に昇格

---

## TODO を具体化するためにユーザーへ依頼する情報（必須）
- 最初に作るべき最小機能（Step 1/2/3 のどこから始めるか）
- 対象のデータ例（あれば）
- 成功判定（出力例、許容誤検出など）
========================
END TODO.md
========================

========================
BEGIN KNOWLEDGE.md
========================
# KNOWLEDGE

このファイルは「解決に手間と時間を要した」「過去から繰り返されている」知見を、
一般化して再利用するための置き場。

## いつ書くか（昇格基準）
- 原因特定に時間がかかった（見つけにくい/再現しづらい）
- 仕様/前提を変更・撤回した（方針転換があった）
- ログの取り方・計測方法・可視化方法が確定した
- 以後のrunでも同じ手順が必要（定石化した）
- 運用手順が変わった（やる/やらないのルール化）

## 書き方（テンプレ）
## YYYY-MM-DD: タイトル
- 症状：
- 原因：
- 対処：
- 再発防止：
- 確認コマンド：
- 参考run：`runs/<run_id>/RUN.md`
========================
END KNOWLEDGE.md
========================

========================
BEGIN runs/_TEMPLATE/RUN.md
========================
# RUN

run_id: yyyymmdd-hhmmssSSS_<branch>
branch: <branch-name>
started_at: YYYY-MM-DD HH:MM (JST)

## 目的（1文）
- （このrunで達成したいことを1文で）

## Done Definition（完了条件）
- [ ] コマンド1回で再現できる
- [ ] out/<run_id>/ に成果物がタイムスタンプ付きで生成される（上書きなし）
- [ ] TODO.md が更新され、次にやることが上から追える

## 重要：文字化け回避（UTF-8遵守）
- テキストは UTF-8（BOMなし）、改行はLF

## 手順（やった順）
1)
2)

## 実行コマンド（コピペで再現できる形）
- `...`

## 結果（事実ベース）
- 何ができた：
- 何ができなかった：
- 数値（処理時間/件数/フレーム数など）：

## 生成物（上書き禁止）
- `out/<run_id>/<ts>_...`

## 影響範囲（変更点）
- 変更ファイル：
- ふるまいの変更：

## ロールバック
- 戻し方（git revert / 設定戻し等）

## つまずき・学び
- 事象：
- 原因：
- 対策：
- 次回への注意：

## KNOWLEDGE候補（昇格するなら）
- （反復しそう／時間がかかった／定石化した）

## 次のTODO（1〜3個）
- [ ] ...
========================
END runs/_TEMPLATE/RUN.md
========================
