schema: qai.parser_profile.v1
id: pics_annex2a_default_v1
title: "PIC/S PE 009-17 Annex 2A (ATMP) markers"
extends: pics_pe00917_common_v1
applies_to:
  family: PICS
  jurisdiction: INTL
  defaults: false
language: en
source_label: "PIC/S"
context_root_kind: annex
structural_kinds: [annex, chapter, section]

preprocess:
  strip_inline_regexes:
    - '(?i)(?<=\S)Annex\s+2A\s+Manufacture\s+of\s+advanced\s+therapy\s+medicinal\s+products\s+for\s+human\s+use\s*$'
  merge_structural_heading_continuations:
    enabled: true
    kinds: [annex]
    max_next_line_len: 200
    max_merge_lines: 3
    max_blank_lookahead: 3
  drop_repeated_structural_headers:
    enabled: true
    kinds: [annex]

marker_types:
  - id: annex
    kind: annex
    kind_raw: "ANNEX"
    match: '^\s*ANNEX\s+(?P<n>2A)\b\s*'
    num_group: n

  - id: section_caps_fixed
    kind: section
    kind_raw: "SCOPE"
    match: '^\s*(SCOPE|APPLICATION OF THIS ANNEX|PRINCIPLE)\s*$'

  - id: chapter_part
    kind: chapter
    kind_raw: "Part A"
    match: '(?i)^\s*Part\s+(?P<n>[A-B])\s*:\s+(?P<title>.+?)\s*$'
    num_group: n

  - id: section_chapter_num
    kind: section
    kind_raw: "Chapter 1"
    match: '(?i)^\s*Chapter\s+(?P<n>\d+)\s+(?P<title>.+?)\s*$'
    num_group: n

  - id: paragraph_decimal
    kind: paragraph
    kind_raw: "5.32"
    match: '^(?P<n>\d+(?:\.\d+)+)\s+'
    num_group: n

  - id: paragraph_letter_num
    kind: paragraph
    kind_raw: "B3.3"
    match: '^(?P<n>[A-Z]\d+(?:\.\d+)*)\s+'
    num_group: n

  - id: item_paren_alpha
    kind: item
    kind_raw: "(a)"
    match: '^\((?P<n>[a-z])\)\s+'
    num_group: n

  - id: item_num_dot
    kind: item
    kind_raw: "1."
    match: '^(?P<n>\d+)\.\s+'
    num_group: n

  - id: bullet
    kind: subitem
    kind_raw: "•"
    match: '^\s*[•]\s+'

structure:
  root:
    children: [annex]
  annex:
    children: [section, chapter, paragraph, item, subitem, note, history]
  chapter:
    children: [section, paragraph, item, subitem, note, history]
  section:
    children: [paragraph, item, subitem, note, history]
  paragraph:
    children: [item, subitem, note, history]
  item:
    children: [subitem, note, history]
  subitem:
    children: [note, history]
  note:
    children: []
  history:
    children: []

compound_prefix:
  enabled: false
  max_depth: 1
